---
import TodoItem from "../../../../components/TodoItem.astro";
import { deleteTodo, getAllTodos } from '../../../../../db/models'

export const partial = true;

const { id } = Astro.params;

if (id) {
  await deleteTodo(id);
} else {
  return;
}

const newTodos = await getAllTodos();
---
{
  newTodos.map((todo) => {
    return <TodoItem todo={todo} />
  })
}